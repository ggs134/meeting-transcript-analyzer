{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "required": [
    "_id",
    "content",
    "created_by",
    "createdTime",
    "driveId",
    "id",
    "mimeType",
    "modifiedTime",
    "name",
    "parents",
    "size",
    "webViewLink"
  ],
  "properties": {
    "_id": {
      "$ref": "#/$defs/ObjectId"
    },
    "content": {
      "type": "string",
      "description": "회의 녹취록 전체 내용. [HH:MM:SS] 발언자: 내용 형식"
    },
    "created_by": {
      "type": "string"
    },
    "createdTime": {
      "type": "string",
      "description": "ISO 8601 형식 날짜"
    },
    "driveId": {
      "type": "string"
    },
    "id": {
      "type": "string"
    },
    "mimeType": {
      "type": "string"
    },
    "modifiedTime": {
      "type": "string"
    },
    "name": {
      "type": "string",
      "description": "파일 이름 (회의 제목으로 사용)"
    },
    "parents": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "size": {
      "type": "string"
    },
    "webViewLink": {
      "type": "string"
    },
    
    "title": {
      "type": "string",
      "description": "회의 제목 (선택사항, 없으면 name 사용)"
    },
    "date": {
      "type": "string",
      "description": "회의 날짜 (YYYY-MM-DD 또는 ISO 8601)"
    },
    "transcript": {
      "type": "string",
      "description": "파싱된 회의록 (선택사항, 없으면 content 사용)"
    },
    "participants": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "회의 참여자 목록 (선택사항)"
    },
    "project": {
      "type": "string",
      "description": "프로젝트 이름 (필터링용)"
    },
    "team": {
      "type": "string",
      "description": "팀 이름 (필터링용)"
    },
    "importance": {
      "type": "string",
      "enum": ["low", "medium", "high"],
      "description": "회의 중요도"
    },
    "duration": {
      "type": "number",
      "description": "회의 시간(분)"
    },
    "analyzed": {
      "type": "boolean",
      "description": "AI 분석 완료 여부",
      "default": false
    },
    "analysis_date": {
      "type": "string",
      "description": "분석 수행 날짜"
    }
  },
  "$defs": {
    "ObjectId": {
      "type": "object",
      "properties": {
        "$oid": {
          "type": "string",
          "pattern": "^[0-9a-fA-F]{24}$"
        }
      },
      "required": [
        "$oid"
      ],
      "additionalProperties": false
    }
  }
}
